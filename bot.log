2025-06-06 10:31:28,519 - INFO - Запуск бота...
2025-06-06 10:31:29,068 - INFO - Бот успешно инициализирован
2025-06-06 10:31:29,068 - INFO - Обработчик команд добавлен
2025-06-06 10:31:29,068 - INFO - Начинаем опрос Telegram API...
2025-06-06 10:31:29,772 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getMe "HTTP/1.1 200 OK"
2025-06-06 10:31:29,893 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/deleteWebhook "HTTP/1.1 200 OK"
2025-06-06 10:31:29,894 - INFO - Scheduler started
2025-06-06 10:31:29,894 - INFO - Application started
2025-06-06 10:31:40,261 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:31:40,537 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:31:40,538 - INFO - Получена команда /start от пользователя 616752206
2025-06-06 10:31:40,538 - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_httpxrequest.py", line 255, in do_request
    data = request_data.json_parameters if request_data else None
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_requestdata.py", line 84, in json_parameters
    if param.json_value is not None
       ^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_requestparameter.py", line 77, in json_value
    return json.dumps(self.value)
           ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type WebAppInfo is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1298, in process_update
    await coroutine
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\Desktop\ArbitrageeerBot\bot.py", line 23, in start
    await update.message.reply_text(
    ...<2 lines>...
    )
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_message.py", line 1775, in reply_text
    return await self.get_bot().send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<20 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_extbot.py", line 2977, in send_message
    return await super().send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<21 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 1091, in send_message
    return await self._send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<19 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_extbot.py", line 618, in _send_message
    result = await super()._send_message(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<21 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 803, in _send_message
    result = await self._post(
             ^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 691, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_extbot.py", line 362, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 720, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_baserequest.py", line 197, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: TypeError('Object of type WebAppInfo is not JSON serializable')
2025-06-06 10:31:43,087 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:31:50,247 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:00,499 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:10,705 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:20,957 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:31,081 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:41,287 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:32:51,493 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:01,732 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:11,985 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:22,242 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:32,375 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:42,493 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:33:52,611 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:34:02,890 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:34:22,940 - INFO - Запуск бота...
2025-06-06 10:34:23,401 - INFO - Бот успешно инициализирован
2025-06-06 10:34:23,401 - INFO - Обработчик команд добавлен
2025-06-06 10:34:23,401 - INFO - Начинаем опрос Telegram API...
2025-06-06 10:34:24,073 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getMe "HTTP/1.1 200 OK"
2025-06-06 10:34:24,211 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/deleteWebhook "HTTP/1.1 200 OK"
2025-06-06 10:34:24,213 - INFO - Scheduler started
2025-06-06 10:34:24,213 - INFO - Application started
2025-06-06 10:34:32,066 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:34:32,067 - INFO - Получена команда /start от пользователя 616752206
2025-06-06 10:34:32,067 - INFO - Клавиатура создана: [[KeyboardButton(text='Добавить вилку', web_app={'url': 'https://твой-веб-апп.com/add-vilka'})], [KeyboardButton(text='Добавить бонус', web_app={'url': 'https://твой-веб-апп.com/add-bonus'})], [KeyboardButton(text='Статистика', web_app={'url': 'https://твой-веб-апп.com/stats'})]]
2025-06-06 10:34:32,556 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/sendMessage "HTTP/1.1 200 OK"
2025-06-06 10:34:32,557 - INFO - Сообщение отправлено пользователю 616752206
2025-06-06 10:34:42,274 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:34:52,393 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:02,513 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:12,633 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:22,881 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:33,003 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:35,417 - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpcore\_async\http11.py", line 231, in _receive_event
    raise RemoteProtocolError(msg)
httpcore.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_httpxrequest.py", line 277, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: Server disconnected without sending a response.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_utils\networkloop.py", line 115, in network_retry_loop
    if not await do_action():
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_utils\networkloop.py", line 108, in do_action
    return action_cb_task.result()
           ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_updater.py", line 335, in polling_action_cb
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_extbot.py", line 658, in get_updates
    updates = await super().get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 4593, in get_updates
    await self._post(
    ^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    ),
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 691, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_extbot.py", line 362, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\_bot.py", line 720, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_baserequest.py", line 197, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\zdd\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\request\_httpxrequest.py", line 301, in do_request
    raise NetworkError(f"httpx.{err.__class__.__name__}: {err}") from err
telegram.error.NetworkError: httpx.RemoteProtocolError: Server disconnected without sending a response.
2025-06-06 10:35:46,944 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:54,499 - INFO - HTTP Request: POST https://api.telegram.org/bot7736199793:AAGDDXtTIDGVoiAb0u84EDvo9Ylol4kdTXA/getUpdates "HTTP/1.1 200 OK"
2025-06-06 10:35:54,499 - INFO - Application is stopping. This might take a moment.
2025-06-06 10:35:54,499 - INFO - Scheduler has been shut down
2025-06-06 10:35:54,512 - INFO - Application.stop() complete
2025-06-06 10:35:54,513 - INFO - Бот завершил работу
